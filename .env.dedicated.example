# ============================================
# Configuration Mode DEDICATED (ETI Isolée)
# Base de données dédiée à une seule entreprise
# ============================================

# Version de l'application
VERSION=latest

# Identifiant Unique du Tenant
# IMPORTANT: Doit être unique (ex: companyA, eti-douala-sarl, etc.)
TENANT_ID=companyA

# Domaine dédié à l'entreprise
TENANT_DOMAIN=erp.companyA.predykt.com

# Nom de l'entreprise
COMPANY_NAME=Company A Ltd

# Ports uniques pour ce tenant
# ATTENTION: Chaque tenant DEDICATED doit avoir des ports différents
APP_PORT=8001
DB_PORT=5401
REDIS_PORT=6401
PGADMIN_PORT=5051

# Subnet unique (pour éviter les conflits réseau Docker)
# Valeur entre 20-254 (chaque tenant doit être différent)
TENANT_SUBNET_OCTET=21

# Base de données dédiée
DB_NAME=predykt_${TENANT_ID}
DB_USER=predykt_${TENANT_ID}
DB_PASSWORD=CHANGEME_DB_PASSWORD_DEDICATED_TENANT

# Redis dédié
REDIS_PASSWORD=CHANGEME_REDIS_PASSWORD_DEDICATED_TENANT

# JWT (clé unique par tenant DEDICATED)
# IMPORTANT: Générer une clé de 512 bits minimum
# Commande: openssl rand -base64 64 | tr -d "=+/" | cut -c1-64
JWT_SECRET=CHANGEME_JWT_SECRET_MINIMUM_64_CHARACTERS_REQUIRED_FOR_HS512_ALGORITHM
JWT_EXPIRATION=86400000

# PgAdmin
PGADMIN_EMAIL=admin@${TENANT_DOMAIN}
PGADMIN_PASSWORD=CHANGEME_PGADMIN_PASSWORD

# Environnement
SPRING_PROFILES_ACTIVE=dedicated
PREDYKT_TENANT_MODE=DEDICATED
PREDYKT_TENANT_ID=${TENANT_ID}

# ============================================
# INSTRUCTIONS:
# 1. Copier et renommer: cp .env.dedicated.example .env.dedicated-companyA
# 2. Remplacer TENANT_ID et tous les CHANGEME
# 3. Vérifier que les ports sont uniques (pas de conflit avec autres tenants)
# 4. Lancer: docker-compose -f docker-compose.dedicated.yml --env-file .env.dedicated-companyA up -d
#
# OU utiliser le script automatisé:
# ./scripts/provision-new-tenant.sh companyA erp.companyA.predykt.com "Company A Ltd"
# ============================================
